<!-- TEACHER ROLE -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teacher Dashboard - EduSpark</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" type="image/png" href="assets/icon.ico">
    <style>
        /* Global Styles */
        :root {
            --primary-color: #4e73df;
            --secondary-color: #224abe;
            --accent-color: #f6c23e;
            --success-color: #1cc88a;
            --danger-color: #e74a3b;
            --warning-color: #f6c23e;
            --info-color: #36b9cc;
            --dark-color: #5a5c69;
            --light-color: #f8f9fc;
            --white: #fff;
            --gray: #858796;
            --shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
            --card-border-radius: 10px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--light-color);
            color: var(--dark-color);
            min-height: 100vh;
        }

        .dashboard-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: var(--white);
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            overflow-y: auto;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-header img {
            width: 80px;
            margin-bottom: 10px;
        }

        .sidebar-header h2 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }

        .sidebar-header p {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .sidebar-menu {
            padding: 20px 0;
        }

        .menu-category {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 15px 25px 5px;
            opacity: 0.6;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 25px;
            color: var(--white);
            text-decoration: none;
            transition: all 0.3s;
            border-left: 4px solid transparent;
        }

        .menu-item i {
            margin-right: 15px;
            font-size: 1.1rem;
        }

        .menu-item:hover, .menu-item.active {
            background-color: rgba(255, 255, 255, 0.1);
            border-left-color: var(--accent-color);
        }

        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            position: absolute;
            bottom: 0;
            width: 100%;
        }

        .logout-btn {
            display: flex;
            align-items: center;
            color: var(--white);
            text-decoration: none;
            font-size: 0.9rem;
        }

        .logout-btn i {
            margin-right: 10px;
        }

        .logout-btn:hover {
            color: var(--accent-color);
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark-color);
        }

        .teacher-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .notifications {
            position: relative;
        }

        .notifications i {
            font-size: 1.2rem;
            color: var(--gray);
            cursor: pointer;
        }

        .notifications .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger-color);
            color: var(--white);
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .messages {
            position: relative;
        }

        .messages i {
            font-size: 1.2rem;
            color: var(--gray);
            cursor: pointer;
        }

        .messages .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--primary-color);
            color: var(--white);
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .teacher-info {
            display: flex;
            align-items: center;
        }

        .teacher-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 10px;
            border: 2px solid var(--primary-color);
        }

        .teacher-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .teacher-role {
            font-size: 0.7rem;
            color: var(--gray);
        }

        /* Dashboard Styles */
        .page-header {
            margin-bottom: 30px;
        }

        .page-header h1 {
            font-size: 1.8rem;
            margin-bottom: 8px;
            color: var(--dark-color);
        }

        .page-header p {
            color: var(--dark-color);
            opacity: 0.7;
        }

        /* Class Selector */
        .class-selector {
            background-color: var(--white);
            border-radius: var(--card-border-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .class-info {
            display: flex;
            align-items: center;
        }

        .class-icon {
            width: 60px;
            height: 60px;
            border-radius: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8rem;
            color: var(--white);
            margin-right: 15px;
            flex-shrink: 0;
        }

        .math-class {
            background-color: var(--danger-color);
        }

        .science-class {
            background-color: var(--success-color);
        }

        .language-class {
            background-color: var(--primary-color);
        }

        .history-class {
            background-color: var(--warning-color);
        }

        .class-details h3 {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .class-details p {
            font-size: 0.8rem;
            color: var(--gray);
        }

        .selector-dropdown {
            position: relative;
        }

        .dropdown-btn {
            background-color: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .dropdown-btn i {
            margin-left: 10px;
        }

        .dropdown-btn:hover {
            background-color: var(--secondary-color);
        }

        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 45px;
            background-color: var(--white);
            min-width: 220px;
            box-shadow: var(--shadow);
            border-radius: 5px;
            z-index: 100;
        }

        .dropdown-content.show {
            display: block;
        }

        .dropdown-item {
            padding: 12px 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .dropdown-item:hover {
            background-color: rgba(78, 115, 223, 0.1);
        }

        .dropdown-item-icon {
            width: 35px;
            height: 35px;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--white);
            margin-right: 10px;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .dropdown-item-info h4 {
            font-size: 0.9rem;
            margin-bottom: 3px;
        }

        .dropdown-item-info p {
            font-size: 0.7rem;
            color: var(--gray);
        }

        /* Dashboard Cards */
        .class-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .overview-card {
            background-color: var(--white);
            border-radius: var(--card-border-radius);
            box-shadow: var(--shadow);
            padding: 20px;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }

        .overview-card:hover {
            transform: translateY(-5px);
        }

        .overview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .overview-title {
            font-size: 1rem;
            font-weight: 600;
        }

        .overview-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--white);
            font-size: 1.2rem;
        }

        .students-icon {
            background-color: var(--primary-color);
        }

        .lessons-icon {
            background-color: var(--success-color);
        }

        .submissions-icon {
            background-color: var(--warning-color);
        }

        .performance-icon {
            background-color: var(--info-color);
        }

        .overview-content {
            flex: 1;
        }

        .overview-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .overview-desc {
            font-size: 0.8rem;
            color: var(--gray);
        }

        .overview-footer {
            display: flex;
            justify-content: flex-end;
            margin-top: 15px;
        }

        .overview-link {
            color: var(--primary-color);
            text-decoration: none;
            font-size: 0.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
        }

        .overview-link i {
            margin-left: 5px;
            font-size: 0.7rem;
        }

        .overview-link:hover {
            text-decoration: underline;
        }

        /* Main Sections */
        .dashboard-sections {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
        }

        .main-section,
        .side-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .dashboard-card {
            background-color: var(--white);
            border-radius: var(--card-border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .card-header {
            padding: 15px 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-title {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .card-actions {
            display: flex;
            gap: 10px;
        }

        .card-action {
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .card-action:hover {
            color: var(--primary-color);
        }

        .card-body {
            padding: 20px;
        }

        /* Lessons Section */
        .lessons-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .lesson-item {
            background-color: rgba(78, 115, 223, 0.05);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            transition: all 0.3s ease;
        }

        .lesson-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .lesson-indicator {
            width: 5px;
            border-radius: 3px;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .lesson-upcoming {
            background-color: var(--primary-color);
        }

        .lesson-active {
            background-color: var(--success-color);
        }

        .lesson-past {
            background-color: var(--gray);
        }

        .lesson-content {
            flex: 1;
        }

        .lesson-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .lesson-title {
            font-weight: 600;
            margin-right: 10px;
        }

        .lesson-status {
            padding: 2px 8px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .status-upcoming {
            background-color: rgba(78, 115, 223, 0.1);
            color: var(--primary-color);
        }

        .status-active {
            background-color: rgba(28, 200, 138, 0.1);
            color: var(--success-color);
        }

        .status-completed {
            background-color: rgba(133, 135, 150, 0.1);
            color: var(--gray);
        }

        .lesson-details {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.8rem;
            color: var(--gray);
        }

        .lesson-detail {
            display: flex;
            align-items: center;
        }

        .lesson-detail i {
            margin-right: 5px;
        }

        .lesson-actions {
            display: flex;
            gap: 10px;
        }

        .lesson-action {
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }

        .lesson-action i {
            margin-right: 5px;
            font-size: 0.7rem;
        }

        .action-edit {
            background-color: rgba(78, 115, 223, 0.1);
            color: var(--primary-color);
        }

        .action-edit:hover {
            background-color: var(--primary-color);
            color: var(--white);
        }

        .action-view {
            background-color: rgba(54, 185, 204, 0.1);
            color: var(--info-color);
        }

        .action-view:hover {
            background-color: var(--info-color);
            color: var(--white);
        }

        .action-delete {
            background-color: rgba(231, 74, 59, 0.1);
            color: var(--danger-color);
        }

        .action-delete:hover {
            background-color: var(--danger-color);
            color: var(--white);
        }

        /* Student Performance */
        .student-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .student-item {
            display: flex;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .student-item:last-child {
            padding-bottom: 0;
            border-bottom: none;
        }

        .student-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 15px;
            flex-shrink: 0;
            border: 2px solid var(--light-color);
        }

        .student-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .student-details {
            flex: 1;
        }

        .student-name {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 5px;
        }

        .student-info {
            font-size: 0.8rem;
            color: var(--gray);
            margin-bottom: 10px;
        }

        .performance-bar {
            height: 5px;
            background-color: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .performance-value {
            height: 100%;
            border-radius: 3px;
        }

        .performance-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--gray);
        }

        .student-actions {
            display: flex;
            gap: 10px;
            margin-left: 15px;
        }

        .student-action {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--white);
            font-size: 0.8rem;
        }

        .action-grade {
            background-color: var(--warning-color);
        }

        .action-grade:hover {
            background-color: #e0b124;
        }

        .action-message {
            background-color: var(--primary-color);
        }

        .action-message:hover {
            background-color: var(--secondary-color);
        }

        .action-details {
            background-color: var(--info-color);
        }

        .action-details:hover {
            background-color: #2da7b9;
        }

        /* Quick Tasks */
        .task-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .task-item {
            display: flex;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .task-item:last-child {
            padding-bottom: 0;
            border-bottom: none;
        }

        .task-priority {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .priority-high {
            background-color: var(--danger-color);
        }

        .priority-medium {
            background-color: var(--warning-color);
        }

        .priority-low {
            background-color: var(--success-color);
        }

        .task-content {
            flex: 1;
        }

        .task-title {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .task-info {
            font-size: 0.75rem;
            color: var(--gray);
        }

        .task-date {
            font-size: 0.75rem;
            color: var(--primary-color);
            margin-left: 15px;
            flex-shrink: 0;
        }

        /* Messages */
        .messages-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message-item {
            display: flex;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        .message-item:last-child {
            padding-bottom: 0;
            border-bottom: none;
        }

        .message-sender {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .message-sender img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .message-content {
            flex: 1;
        }

        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }

        .sender-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .message-time {
            font-size: 0.75rem;
            color: var(--gray);
        }

        .message-preview {
            font-size: 0.85rem;
            color: var(--dark-color);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .message-actions {
            display: flex;
            margin-top: 8px;
            gap: 10px;
        }

        .message-action {
            background-color: rgba(78, 115, 223, 0.1);
            color: var(--primary-color);
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .message-action:hover {
            background-color: var(--primary-color);
            color: var(--white);
        }

        /* Create Lesson Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1050;
            overflow-y: auto;
        }

        .modal.show {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: var(--white);
            border-radius: var(--card-border-radius);
            width: 90%;
            max-width: 700px;
            position: relative;
            animation: modalOpen 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }

        @keyframes modalOpen {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background-color: var(--white);
            z-index: 1;
        }

        .modal-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: var(--gray);
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            position: sticky;
            bottom: 0;
            background-color: var(--white);
            z-index: 1;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .form-control {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-select {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
            transition: border-color 0.3s ease;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%235a5c69' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-col {
            flex: 1;
        }

        .file-upload {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .file-dropzone {
            border: 2px dashed rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-dropzone:hover {
            border-color: var(--primary-color);
        }

        .file-dropzone i {
            font-size: 2rem;
            color: var(--gray);
            margin-bottom: 10px;
        }

        .file-dropzone p {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .file-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .file-item {
            display: flex;
            align-items: center;
            padding: 10px;
            border-radius: 5px;
            background-color: rgba(0, 0, 0, 0.05);
        }

        .file-item-icon {
            margin-right: 10px;
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .file-item-name {
            flex: 1;
            font-size: 0.9rem;
        }

        .file-item-size {
            font-size: 0.8rem;
            color: var(--gray);
            margin-right: 10px;
        }

        .file-item-remove {
            color: var(--danger-color);
            cursor: pointer;
            font-size: 0.9rem;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn i {
            margin-right: 8px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
        }

        .btn-success {
            background-color: var(--success-color);
            color: var(--white);
        }

        .btn-success:hover {
            background-color: #19a67a;
        }

        .btn-light {
            background-color: var(--light-color);
            color: var(--dark-color);
        }

        .btn-light:hover {
            background-color: #e6e6e6;
        }

        .btn-lg {
            padding: 12px 24px;
            font-size: 1rem;
        }

        /* Add Students to Lesson Modal */
        .student-search {
            margin-bottom: 20px;
            position: relative;
        }

        .student-search input {
            width: 100%;
            padding: 10px 15px;
            padding-left: 40px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 5px;
            font-family: 'Poppins', sans-serif;
            font-size: 0.9rem;
        }

        .student-search i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .selectable-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }

        .selectable-item {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .selectable-item:last-child {
            border-bottom: none;
        }

        .selectable-item:hover {
            background-color: rgba(78, 115, 223, 0.05);
        }

        .selectable-item.selected {
            background-color: rgba(78, 115, 223, 0.1);
        }

        .selectable-checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid var(--gray);
            border-radius: 3px;
            margin-right: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: var(--white);
            transition: all 0.2s ease;
        }

        .selectable-item.selected .selectable-checkbox {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .selectable-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 15px;
        }

        .selectable-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .selectable-details h4 {
            font-size: 0.9rem;
            margin-bottom: 3px;
        }

        .selectable-details p {
            font-size: 0.75rem;
            color: var(--gray);
        }

        .selected-count {
            margin-top: 15px;
            font-size: 0.9rem;
            color: var(--primary-color);
            font-weight: 600;
        }

        /* Feedback Modal */
        .feedback-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .feedback-student-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            overflow: hidden;
            margin-right: 15px;
        }

        .feedback-student-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .feedback-student-name {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .rating-select {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .rating-label {
            min-width: 80px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .rating-stars {
            display: flex;
            gap: 5px;
        }

        .rating-star {
            font-size: 1.2rem;
            color: #e0e0e0;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .rating-star.selected {
            color: var(--warning-color);
        }

        .rating-star:hover {
            color: var(--warning-color);
        }

        .send-options {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .send-option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .send-option input {
            margin-right: 8px;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .dashboard-sections {
                grid-template-columns: 1fr;
            }
            
            .class-overview {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .class-overview {
                grid-template-columns: 1fr;
            }
            
            .class-selector {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }

        @media (max-width: 576px) {
            .teacher-profile {
                gap: 10px;
            }
            
            .notifications, .messages {
                margin-right: 5px;
            }
            
            .teacher-role {
                display: none;
            }
            
            .class-icon {
                width: 45px;
                height: 45px;
                font-size: 1.3rem;
            }
            
            .lesson-details {
                flex-direction: column;
                gap: 5px;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="https://images.vexels.com/media/users/3/224233/isolated/preview/d5ee0e9c87bb54cf867d7fb89c4570b8-online-education-logo.png" alt="EduSpark Logo">
                <h2>EduSpark</h2>
                <p>Teacher Portal</p>
            </div>
            
            <nav class="sidebar-menu">
                <div class="menu-category">Dashboard</div>
                <a href="teacher_dashboard.html" class="menu-item active">
                    <i class="fas fa-home"></i>
                    <span>Overview</span>
                </a>
                
                <div class="menu-category">Teaching</div>
                <a href="#" class="menu-item">
                    <i class="fas fa-chalkboard"></i>
                    <span>My Classes</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-book"></i>
                    <span>Lessons</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-tasks"></i>
                    <span>Assignments</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-file-alt"></i>
                    <span>Assessments</span>
                </a>
                
                <div class="menu-category">Students</div>
                <a href="#" class="menu-item">
                    <i class="fas fa-user-graduate"></i>
                    <span>Student Profiles</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-chart-line"></i>
                    <span>Performance</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-comments"></i>
                    <span>Feedback</span>
                </a>
                
                <div class="menu-category">Communication</div>
                <a href="#" class="menu-item">
                    <i class="fas fa-envelope"></i>
                    <span>Messages</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Calendar</span>
                </a>
                
                <div class="menu-category">Settings</div>
                <a href="#" class="menu-item">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </a>
                <a href="#" class="menu-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <a href="index.html" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="top-bar">
                <button class="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                
                <div class="teacher-profile">
                    <div class="notifications">
                        <i class="fas fa-bell"></i>
                        <span class="badge">3</span>
                    </div>
                    
                    <div class="messages">
                        <i class="fas fa-envelope"></i>
                        <span class="badge">5</span>
                    </div>
                    
                    <div class="teacher-info">
                        <img src="https://randomuser.me/api/portraits/women/62.jpg" alt="Teacher Profile">
                        <div>
                            <div class="teacher-name">Sarah Johnson</div>
                            <div class="teacher-role">Mathematics Teacher</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="page-header">
                <h1>Teacher Dashboard</h1>
                <p>Manage your classes, lessons, and student performance</p>
            </div>

            <!-- Class Selector -->
            <div class="class-selector">
                <div class="class-info">
                    <div class="class-icon math-class">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <div class="class-details">
                        <h3>Mathematics - Algebra I</h3>
                        <p>Grade 9 • 28 Students • Room 105 • MWF 10:00-11:30 AM</p>
                    </div>
                </div>
                <div class="selector-dropdown">
                    <button class="dropdown-btn">
                        Change Class <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="dropdown-content" id="classDropdown">
                        <div class="dropdown-item">
                            <div class="dropdown-item-icon math-class">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <div class="dropdown-item-info">
                                <h4>Mathematics - Algebra I</h4>
                                <p>Grade 9 • 28 Students</p>
                            </div>
                        </div>
                        <div class="dropdown-item">
                            <div class="dropdown-item-icon math-class">
                                <i class="fas fa-square-root-alt"></i>
                            </div>
                            <div class="dropdown-item-info">
                                <h4>Mathematics - Geometry</h4>
                                <p>Grade 10 • 25 Students</p>
                            </div>
                        </div>
                        <div class="dropdown-item">
                            <div class="dropdown-item-icon science-class">
                                <i class="fas fa-atom"></i>
                            </div>
                            <div class="dropdown-item-info">
                                <h4>Science - Physics</h4>
                                <p>Grade 11 • 22 Students</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Class Overview Stats -->
            <div class="class-overview">
                <div class="overview-card">
                    <div class="overview-header">
                        <h3 class="overview-title">Students</h3>
                        <div class="overview-icon students-icon">
                            <i class="fas fa-user-graduate"></i>
                        </div>
                    </div>
                    <div class="overview-content">
                        <div class="overview-value">28</div>
                        <p class="overview-desc">24 Active • 4 Requiring Attention</p>
                        <div class="overview-footer">
                            <a href="#" class="overview-link">View All Students <i class="fas fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <div class="overview-card">
                    <div class="overview-header">
                        <h3 class="overview-title">Lessons</h3>
                        <div class="overview-icon lessons-icon">
                            <i class="fas fa-book"></i>
                        </div>
                    </div>
                    <div class="overview-content">
                        <div class="overview-value">15</div>
                        <p class="overview-desc">10 Completed • 5 Upcoming</p>
                        <div class="overview-footer">
                            <a href="#" class="overview-link">Manage Lessons <i class="fas fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <div class="overview-card">
                    <div class="overview-header">
                        <h3 class="overview-title">Assignments</h3>
                        <div class="overview-icon submissions-icon">
                            <i class="fas fa-clipboard-check"></i>
                        </div>
                    </div>
                    <div class="overview-content">
                        <div class="overview-value">8</div>
                        <p class="overview-desc">5 Graded • 3 Pending Review</p>
                        <div class="overview-footer">
                            <a href="#" class="overview-link">Grade Assignments <i class="fas fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>

                <div class="overview-card">
                    <div class="overview-header">
                        <h3 class="overview-title">Class Average</h3>
                        <div class="overview-icon performance-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                    </div>
                    <div class="overview-content">
                        <div class="overview-value">78%</div>
                        <p class="overview-desc">B- • 5% increase this month</p>
                        <div class="overview-footer">
                            <a href="#" class="overview-link">View Analytics <i class="fas fa-chevron-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Dashboard Sections -->
            <div class="dashboard-sections">
                <!-- Left Column -->
                <div class="main-section">
                    <!-- Lessons -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Lessons</h3>
                            <div class="card-actions">
                                <div class="card-action" id="createLessonBtn" title="Create Lesson">
                                    <i class="fas fa-plus"></i>
                                </div>
                                <div class="card-action" title="View All Lessons">
                                    <i class="fas fa-list"></i>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="lessons-list">
                                <div class="lesson-item">
                                    <div class="lesson-indicator lesson-active"></div>
                                    <div class="lesson-content">
                                        <div class="lesson-header">
                                            <h4 class="lesson-title">Linear Equations and Inequalities</h4>
                                            <div class="lesson-status status-active">Active</div>
                                        </div>
                                        <div class="lesson-details">
                                            <div class="lesson-detail">
                                                <i class="fas fa-calendar"></i>
                                                <span>Sep 25, 2023</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-clock"></i>
                                                <span>10:00 - 11:30 AM</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-users"></i>
                                                <span>28 Students</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-clipboard-list"></i>
                                                <span>2 Activities</span>
                                            </div>
                                        </div>
                                        <div class="lesson-actions">
                                            <div class="lesson-action action-edit">
                                                <i class="fas fa-edit"></i> Edit
                                            </div>
                                            <div class="lesson-action action-view">
                                                <i class="fas fa-eye"></i> View
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="lesson-item">
                                    <div class="lesson-indicator lesson-upcoming"></div>
                                    <div class="lesson-content">
                                        <div class="lesson-header">
                                            <h4 class="lesson-title">Systems of Equations</h4>
                                            <div class="lesson-status status-upcoming">Upcoming</div>
                                        </div>
                                        <div class="lesson-details">
                                            <div class="lesson-detail">
                                                <i class="fas fa-calendar"></i>
                                                <span>Sep 27, 2023</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-clock"></i>
                                                <span>10:00 - 11:30 AM</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-users"></i>
                                                <span>28 Students</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-clipboard-list"></i>
                                                <span>3 Activities</span>
                                            </div>
                                        </div>
                                        <div class="lesson-actions">
                                            <div class="lesson-action action-edit">
                                                <i class="fas fa-edit"></i> Edit
                                            </div>
                                            <div class="lesson-action action-view">
                                                <i class="fas fa-eye"></i> View
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="lesson-item">
                                    <div class="lesson-indicator lesson-upcoming"></div>
                                    <div class="lesson-content">
                                        <div class="lesson-header">
                                            <h4 class="lesson-title">Quadratic Equations</h4>
                                            <div class="lesson-status status-upcoming">Upcoming</div>
                                        </div>
                                        <div class="lesson-details">
                                            <div class="lesson-detail">
                                                <i class="fas fa-calendar"></i>
                                                <span>Sep 29, 2023</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-clock"></i>
                                                <span>10:00 - 11:30 AM</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-users"></i>
                                                <span>28 Students</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-clipboard-list"></i>
                                                <span>4 Activities</span>
                                            </div>
                                        </div>
                                        <div class="lesson-actions">
                                            <div class="lesson-action action-edit">
                                                <i class="fas fa-edit"></i> Edit
                                            </div>
                                            <div class="lesson-action action-view">
                                                <i class="fas fa-eye"></i> View
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="lesson-item">
                                    <div class="lesson-indicator lesson-past"></div>
                                    <div class="lesson-content">
                                        <div class="lesson-header">
                                            <h4 class="lesson-title">Introduction to Algebra</h4>
                                            <div class="lesson-status status-completed">Completed</div>
                                        </div>
                                        <div class="lesson-details">
                                            <div class="lesson-detail">
                                                <i class="fas fa-calendar"></i>
                                                <span>Sep 22, 2023</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-clock"></i>
                                                <span>10:00 - 11:30 AM</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-users"></i>
                                                <span>28 Students</span>
                                            </div>
                                            <div class="lesson-detail">
                                                <i class="fas fa-clipboard-list"></i>
                                                <span>3 Activities</span>
                                            </div>
                                        </div>
                                        <div class="lesson-actions">
                                            <div class="lesson-action action-view">
                                                <i class="fas fa-eye"></i> View
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Student Performance -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Student Performance</h3>
                            <div class="card-actions">
                                <div class="card-action" title="Download Report">
                                    <i class="fas fa-download"></i>
                                </div>
                                <div class="card-action" title="View All Students">
                                    <i class="fas fa-external-link-alt"></i>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="student-list">
                                <div class="student-item">
                                    <div class="student-avatar">
                                        <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Student">
                                    </div>
                                    <div class="student-details">
                                        <h4 class="student-name">James Wilson</h4>
                                        <p class="student-info">Student ID: STU2023-001</p>
                                        <div class="performance-bar">
                                            <div class="performance-value" style="width: 92%; background-color: var(--success-color);"></div>
                                        </div>
                                        <div class="performance-stats">
                                            <span>Current Grade: 92%</span>
                                            <span>A</span>
                                        </div>
                                    </div>
                                    <div class="student-actions">
                                        <div class="student-action action-grade" title="Grade">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div class="student-action action-message" title="Message">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <div class="student-action action-details" title="Details">
                                            <i class="fas fa-info"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="student-item">
                                    <div class="student-avatar">
                                        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Student">
                                    </div>
                                    <div class="student-details">
                                        <h4 class="student-name">Emily Davis</h4>
                                        <p class="student-info">Student ID: STU2023-012</p>
                                        <div class="performance-bar">
                                            <div class="performance-value" style="width: 85%; background-color: var(--info-color);"></div>
                                        </div>
                                        <div class="performance-stats">
                                            <span>Current Grade: 85%</span>
                                            <span>B</span>
                                        </div>
                                    </div>
                                    <div class="student-actions">
                                        <div class="student-action action-grade" title="Grade">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div class="student-action action-message" title="Message">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <div class="student-action action-details" title="Details">
                                            <i class="fas fa-info"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="student-item">
                                    <div class="student-avatar">
                                        <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Student">
                                    </div>
                                    <div class="student-details">
                                        <h4 class="student-name">Michael Brown</h4>
                                        <p class="student-info">Student ID: STU2023-008</p>
                                        <div class="performance-bar">
                                            <div class="performance-value" style="width: 68%; background-color: var(--warning-color);"></div>
                                        </div>
                                        <div class="performance-stats">
                                            <span>Current Grade: 68%</span>
                                            <span>D+</span>
                                        </div>
                                    </div>
                                    <div class="student-actions">
                                        <div class="student-action action-grade" title="Grade">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div class="student-action action-message" title="Message">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <div class="student-action action-details" title="Details">
                                            <i class="fas fa-info"></i>
                                        </div>
                                    </div>
                                </div>

                                <div class="student-item">
                                    <div class="student-avatar">
                                        <img src="https://randomuser.me/api/portraits/women/33.jpg" alt="Student">
                                    </div>
                                    <div class="student-details">
                                        <h4 class="student-name">Sophia Martinez</h4>
                                        <p class="student-info">Student ID: STU2023-015</p>
                                        <div class="performance-bar">
                                            <div class="performance-value" style="width: 78%; background-color: var(--info-color);"></div>
                                        </div>
                                        <div class="performance-stats">
                                            <span>Current Grade: 78%</span>
                                            <span>C+</span>
                                        </div>
                                    </div>
                                    <div class="student-actions">
                                        <div class="student-action action-grade" title="Grade">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div class="student-action action-message" title="Message">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <div class="student-action action-details" title="Details">
                                            <i class="fas fa-info"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="side-section">
                    <!-- Quick Tasks -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Quick Tasks</h3>
                            <div class="card-actions">
                                <div class="card-action" title="Add Task">
                                    <i class="fas fa-plus"></i>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="task-list">
                                <div class="task-item">
                                    <div class="task-priority priority-high"></div>
                                    <div class="task-content">
                                        <h4 class="task-title">Grade Midterm Exams</h4>
                                        <p class="task-info">28 submissions pending review</p>
                                    </div>
                                    <div class="task-date">Due Today</div>
                                </div>

                                <div class="task-item">
                                    <div class="task-priority priority-medium"></div>
                                    <div class="task-content">
                                        <h4 class="task-title">Prepare Lesson Materials</h4>
                                        <p class="task-info">For Systems of Equations</p>
                                    </div>
                                    <div class="task-date">Sep 26</div>
                                </div>

                                <div class="task-item">
                                    <div class="task-priority priority-medium"></div>
                                    <div class="task-content">
                                        <h4 class="task-title">Contact Parents</h4>
                                        <p class="task-info">For students with grades below C</p>
                                    </div>
                                    <div class="task-date">Sep 27</div>
                                </div>

                                <div class="task-item">
                                    <div class="task-priority priority-low"></div>
                                    <div class="task-content">
                                        <h4 class="task-title">Update Curriculum</h4>
                                        <p class="task-info">For next semester's Algebra course</p>
                                    </div>
                                    <div class="task-date">Oct 05</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Messages -->
                    <div class="dashboard-card">
                        <div class="card-header">
                            <h3 class="card-title">Messages</h3>
                            <div class="card-actions">
                                <div class="card-action" id="composeMessageBtn" title="Compose Message">
                                    <i class="fas fa-pen"></i>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="messages-list">
                                <div class="message-item">
                                    <div class="message-sender">
                                        <img src="https://randomuser.me/api/portraits/men/42.jpg" alt="Parent">
                                    </div>
                                    <div class="message-content">
                                        <div class="message-header">
                                            <div class="sender-name">Michael Chen (Parent)</div>
                                            <div class="message-time">Today, 1:30 PM</div>
                                        </div>
                                        <p class="message-preview">I'm concerned about my son's recent math score. Could we schedule a meeting to discuss his progress and how I can help at home?</p>
                                        <div class="message-actions">
                                            <button class="message-action">Reply</button>
                                            <button class="message-action">View</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="message-item">
                                    <div class="message-sender">
                                        <img src="https://randomuser.me/api/portraits/women/15.jpg" alt="Student">
                                    </div>
                                    <div class="message-content">
                                        <div class="message-header">
                                            <div class="sender-name">Jessica Martinez (Student)</div>
                                            <div class="message-time">Sep 22, 2023</div>
                                        </div>
                                        <p class="message-preview">I missed yesterday's class due to illness. Could you please let me know what I missed and if there were any assignments?</p>
                                        <div class="message-actions">
                                            <button class="message-action">Reply</button>
                                            <button class="message-action">View</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="message-item">
                                    <div class="message-sender">
                                        <img src="https://randomuser.me/api/portraits/men/36.jpg" alt="Principal">
                                    </div>
                                    <div class="message-content">
                                        <div class="message-header">
                                            <div class="sender-name">Principal Anderson</div>
                                            <div class="message-time">Sep 21, 2023</div>
                                        </div>
                                        <p class="message-preview">Reminder: The department meeting is scheduled for Thursday at 3:30 PM. Please prepare your quarterly progress report.</p>
                                        <div class="message-actions">
                                            <button class="message-action">Reply</button>
                                            <button class="message-action">View</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Create Lesson Modal -->
    <div class="modal" id="lessonModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Create New Lesson</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="lessonForm">
                    <div class="form-group">
                        <label class="form-label">Lesson Title</label>
                        <input type="text" class="form-control" id="lessonTitle" placeholder="Enter lesson title">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label class="form-label">Date</label>
                                <input type="date" class="form-control" id="lessonDate">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label class="form-label">Time</label>
                                <input type="time" class="form-control" id="lessonTime">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Lesson Description</label>
                        <textarea class="form-control" id="lessonDescription" placeholder="Describe the lesson objectives and key content"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Learning Materials</label>
                        <div class="file-upload">
                            <div class="file-dropzone" id="fileDropzone">
                                <i class="fas fa-file-upload"></i>
                                <p>Drag & drop files here or <span style="color: var(--primary-color); text-decoration: underline;">browse</span></p>
                            </div>
                            <div class="file-list" id="fileList">
                                <div class="file-item">
                                    <div class="file-item-icon"><i class="fas fa-file-pdf"></i></div>
                                    <div class="file-item-name">Algebra_Lesson5.pdf</div>
                                    <div class="file-item-size">2.3 MB</div>
                                    <div class="file-item-remove"><i class="fas fa-times"></i></div>
                                </div>
                                <div class="file-item">
                                    <div class="file-item-icon"><i class="fas fa-file-powerpoint"></i></div>
                                    <div class="file-item-name">Linear_Equations_Slides.pptx</div>
                                    <div class="file-item-size">5.7 MB</div>
                                    <div class="file-item-remove"><i class="fas fa-times"></i></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Assign to Students</label>
                        <button type="button" class="btn btn-light" id="addStudentsBtn" style="width: 100%">
                            <i class="fas fa-user-plus"></i> Add Students
                        </button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light" id="cancelLesson">Cancel</button>
                <button class="btn btn-primary" id="saveLesson">
                    <i class="fas fa-save"></i> Save Lesson
                </button>
            </div>
        </div>
    </div>

    <!-- Add Students Modal -->
    <div class="modal" id="studentsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add Students to Lesson</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="student-search">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search students by name or ID">
                </div>
                
                <div class="selectable-list">
                    <div class="selectable-item selected">
                        <div class="selectable-checkbox">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="selectable-avatar">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Student">
                        </div>
                        <div class="selectable-details">
                            <h4>James Wilson</h4>
                            <p>Student ID: STU2023-001</p>
                        </div>
                    </div>
                    
                    <div class="selectable-item selected">
                        <div class="selectable-checkbox">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="selectable-avatar">
                            <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Student">
                        </div>
                        <div class="selectable-details">
                            <h4>Emily Davis</h4>
                            <p>Student ID: STU2023-012</p>
                        </div>
                    </div>
                    
                    <div class="selectable-item selected">
                        <div class="selectable-checkbox">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="selectable-avatar">
                            <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Student">
                        </div>
                        <div class="selectable-details">
                            <h4>Michael Brown</h4>
                            <p>Student ID: STU2023-008</p>
                        </div>
                    </div>
                    
                    <div class="selectable-item selected">
                        <div class="selectable-checkbox">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="selectable-avatar">
                            <img src="https://randomuser.me/api/portraits/women/33.jpg" alt="Student">
                        </div>
                        <div class="selectable-details">
                            <h4>Sophia Martinez</h4>
                            <p>Student ID: STU2023-015</p>
                        </div>
                    </div>
                    
                    <!-- More student items would be here -->
                </div>
                
                <div class="selected-count">24 of 28 students selected</div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light" id="cancelStudentSelection">Cancel</button>
                <button class="btn btn-primary" id="addSelectedStudents">
                    <i class="fas fa-plus"></i> Add Selected Students
                </button>
            </div>
        </div>
    </div>

    <!-- Provide Feedback Modal -->
    <div class="modal" id="feedbackModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Provide Feedback</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="feedback-form">
                    <div class="feedback-header">
                        <div class="feedback-student-avatar">
                            <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Student">
                        </div>
                        <div class="feedback-student-name">Michael Brown</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Assignment/Assessment</label>
                        <select class="form-select">
                            <option value="midterm">Midterm Exam</option>
                            <option value="hw1">Homework #1 - Equations</option>
                            <option value="quiz1">Quiz #1 - Basic Algebra</option>
                            <option value="participation">Class Participation</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Grade</label>
                        <input type="text" class="form-control" placeholder="Enter grade (e.g., 85%)">
                    </div>
                    
                    <div class="form-group">
                        <div class="rating-select">
                            <div class="rating-label">Understanding</div>
                            <div class="rating-stars">
                                <div class="rating-star selected"><i class="fas fa-star"></i></div>
                                <div class="rating-star selected"><i class="fas fa-star"></i></div>
                                <div class="rating-star selected"><i class="fas fa-star"></i></div>
                                <div class="rating-star"><i class="fas fa-star"></i></div>
                                <div class="rating-star"><i class="fas fa-star"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="rating-select">
                            <div class="rating-label">Effort</div>
                            <div class="rating-stars">
                                <div class="rating-star selected"><i class="fas fa-star"></i></div>
                                <div class="rating-star selected"><i class="fas fa-star"></i></div>
                                <div class="rating-star"><i class="fas fa-star"></i></div>
                                <div class="rating-star"><i class="fas fa-star"></i></div>
                                <div class="rating-star"><i class="fas fa-star"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Feedback Comments</label>
                        <textarea class="form-control" placeholder="Provide detailed feedback about strengths and areas for improvement..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Send Feedback To</label>
                        <div class="send-options">
                            <div class="send-option">
                                <input type="checkbox" id="sendToStudent" checked>
                                <label for="sendToStudent">Student</label>
                            </div>
                            <div class="send-option">
                                <input type="checkbox" id="sendToParent" checked>
                                <label for="sendToParent">Parent</label>
                            </div>
                            <div class="send-option">
                                <input type="checkbox" id="sendToAdmin">
                                <label for="sendToAdmin">Administration</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light" id="cancelFeedback">Cancel</button>
                <button class="btn btn-success" id="sendFeedback">
                    <i class="fas fa-paper-plane"></i> Send Feedback
                </button>
            </div>
        </div>
    </div>

    <!-- Compose Message Modal -->
    <div class="modal" id="messageModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Compose Message</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="messageForm">
                    <div class="form-group">
                        <label class="form-label">Recipient</label>
                        <select class="form-select" id="messageRecipient">
                            <option value="" disabled selected>Select recipient type</option>
                            <option value="student">Individual Student</option>
                            <option value="parent">Individual Parent</option>
                            <option value="all_students">All Students</option>
                            <option value="all_parents">All Parents</option>
                            <option value="admin">Administration</option>
                        </select>
                    </div>
                    
                    <div class="form-group" id="individualRecipientGroup" style="display: none;">
                        <label class="form-label">Select Individual</label>
                        <select class="form-select" id="individualSelect">
                            <option value="" disabled selected>Choose a recipient</option>
                            <!-- Students options will be added here dynamically -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Subject</label>
                        <input type="text" class="form-control" id="messageSubject" placeholder="Enter message subject">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Message</label>
                        <textarea class="form-control" id="messageContent" placeholder="Type your message here..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Attachments (Optional)</label>
                        <div class="file-upload">
                            <div class="file-dropzone" id="messageFileDropzone">
                                <i class="fas fa-file-upload"></i>
                                <p>Drag & drop files here or <span style="color: var(--primary-color); text-decoration: underline;">browse</span></p>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-light" id="cancelMessage">Cancel</button>
                <button class="btn btn-primary" id="sendMessage">
                    <i class="fas fa-paper-plane"></i> Send Message
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle sidebar on mobile
            const menuToggle = document.querySelector('.menu-toggle');
            const sidebar = document.querySelector('.sidebar');
            
            menuToggle.addEventListener('click', function() {
                sidebar.classList.toggle('active');
            });
            
            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', function(event) {
                const isClickInside = sidebar.contains(event.target) || menuToggle.contains(event.target);
                
                if (!isClickInside && window.innerWidth < 992 && sidebar.classList.contains('active')) {
                    sidebar.classList.remove('active');
                }
            });
            
            // Class dropdown functionality
            const dropdownBtn = document.querySelector('.dropdown-btn');
            const dropdownContent = document.getElementById('classDropdown');
            
            dropdownBtn.addEventListener('click', function() {
                dropdownContent.classList.toggle('show');
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(event) {
                if (!event.target.matches('.dropdown-btn') && !event.target.closest('.dropdown-btn')) {
                    if (dropdownContent.classList.contains('show')) {
                        dropdownContent.classList.remove('show');
                    }
                }
            });
            
            // Class selection
            const dropdownItems = document.querySelectorAll('.dropdown-item');
            const classIcon = document.querySelector('.class-icon');
            const className = document.querySelector('.class-details h3');
            const classDetails = document.querySelector('.class-details p');
            
            dropdownItems.forEach(item => {
                item.addEventListener('click', function() {
                    const name = this.querySelector('h4').textContent;
                    const details = this.querySelector('p').textContent;
                    const iconClass = this.querySelector('.dropdown-item-icon').className;
                    
                    classIcon.className = 'class-icon ' + iconClass.split(' ')[1];
                    classIcon.innerHTML = this.querySelector('.dropdown-item-icon').innerHTML;
                    className.textContent = name;
                    classDetails.textContent = details + ' • Room 105 • MWF 10:00-11:30 AM';
                    
                    dropdownContent.classList.remove('show');
                });
            });
            
            // Lesson modal functionality
            const lessonModal = document.getElementById('lessonModal');
            const createLessonBtn = document.getElementById('createLessonBtn');
            const closeLessonModal = lessonModal.querySelector('.modal-close');
            const cancelLessonBtn = document.getElementById('cancelLesson');
            const saveLessonBtn = document.getElementById('saveLesson');
            
            createLessonBtn.addEventListener('click', function() {
                lessonModal.classList.add('show');
            });
            
            function closeLessonModal() {
                lessonModal.classList.remove('show');
            }
            
            closeLessonModal.addEventListener('click', closeLessonModal);
            cancelLessonBtn.addEventListener('click', closeLessonModal);
            
            // Save lesson
            saveLessonBtn.addEventListener('click', function() {
                // In a real app, this would save the lesson data
                alert('Lesson saved successfully!');
                closeLessonModal();
            });
            
            // Students modal functionality
            const studentsModal = document.getElementById('studentsModal');
            const addStudentsBtn = document.getElementById('addStudentsBtn');
            const closeStudentsModal = studentsModal.querySelector('.modal-close');
            const cancelStudentSelection = document.getElementById('cancelStudentSelection');
            const addSelectedStudents = document.getElementById('addSelectedStudents');
            
            addStudentsBtn.addEventListener('click', function() {
                studentsModal.classList.add('show');
            });
            
            function closeStudentsModal() {
                studentsModal.classList.remove('show');
            }
            
            closeStudentsModal.addEventListener('click', closeStudentsModal);
            cancelStudentSelection.addEventListener('click', closeStudentsModal);
            
            // Add selected students
            addSelectedStudents.addEventListener('click', function() {
                // In a real app, this would add the selected students to the lesson
                alert('Students added to lesson!');
                closeStudentsModal();
            });
            
            // Student selection in the modal
            const selectableItems = document.querySelectorAll('.selectable-item');
            selectableItems.forEach(item => {
                item.addEventListener('click', function() {
                    this.classList.toggle('selected');
                    
                    // Update selected count
                    const selectedCount = document.querySelectorAll('.selectable-item.selected').length;
                    document.querySelector('.selected-count').textContent = `${selectedCount} of 28 students selected`;
                });
            });
            
            // Feedback modal functionality
            const feedbackModal = document.getElementById('feedbackModal');
            const gradeBtns = document.querySelectorAll('.action-grade');
            const closeFeedbackModal = feedbackModal.querySelector('.modal-close');
            const cancelFeedbackBtn = document.getElementById('cancelFeedback');
            const sendFeedbackBtn = document.getElementById('sendFeedback');
            
            gradeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    feedbackModal.classList.add('show');
                });
            });
            
            function closeFeedbackModal() {
                feedbackModal.classList.remove('show');
            }
            
            closeFeedbackModal.addEventListener('click', closeFeedbackModal);
            cancelFeedbackBtn.addEventListener('click', closeFeedbackModal);
            
            // Send feedback
            sendFeedbackBtn.addEventListener('click', function() {
                // In a real app, this would send the feedback
                alert('Feedback sent successfully!');
                closeFeedbackModal();
            });
            
            // Star rating functionality
            const ratingStars = document.querySelectorAll('.rating-star');
            ratingStars.forEach((star, index) => {
                star.addEventListener('click', function() {
                    const parent = this.parentElement;
                    const stars = parent.querySelectorAll('.rating-star');
                    
                    // Remove selected class from all stars
                    stars.forEach(s => s.classList.remove('selected'));
                    
                    // Add selected class to clicked star and all stars before it
                    for (let i = 0; i <= index; i++) {
                        stars[i].classList.add('selected');
                    }
                });
            });
            
            // Message modal functionality
            const messageModal = document.getElementById('messageModal');
            const composeMessageBtn = document.getElementById('composeMessageBtn');
            const closeMessageModal = messageModal.querySelector('.modal-close');
            const cancelMessageBtn = document.getElementById('cancelMessage');
            const sendMessageBtn = document.getElementById('sendMessage');
            
            composeMessageBtn.addEventListener('click', function() {
                messageModal.classList.add('show');
            });
            
            function closeMessageModal() {
                messageModal.classList.remove('show');
            }
            
            closeMessageModal.addEventListener('click', closeMessageModal);
            cancelMessageBtn.addEventListener('click', closeMessageModal);
            
            // Send message
            sendMessageBtn.addEventListener('click', function() {
                // In a real app, this would send the message
                alert('Message sent successfully!');
                closeMessageModal();
            });
            
            // Recipient type selection
            const messageRecipientSelect = document.getElementById('messageRecipient');
            const individualRecipientGroup = document.getElementById('individualRecipientGroup');
            
            messageRecipientSelect.addEventListener('change', function() {
                if (this.value === 'student' || this.value === 'parent') {
                    individualRecipientGroup.style.display = 'block';
                    
                    // Populate the individual select based on the type selected
                    const individualSelect = document.getElementById('individualSelect');
                    individualSelect.innerHTML = '<option value="" disabled selected>Choose a recipient</option>';
                    
                    if (this.value === 'student') {
                        const students = [
                            { id: 1, name: 'James Wilson', role: 'Student' },
                            { id: 2, name: 'Emily Davis', role: 'Student' },
                            { id: 3, name: 'Michael Brown', role: 'Student' },
                            { id: 4, name: 'Sophia Martinez', role: 'Student' }
                        ];
                        
                        students.forEach(student => {
                            const option = document.createElement('option');
                            option.value = student.id;
                            option.textContent = student.name;
                            individualSelect.appendChild(option);
                        });
                    } else {
                        const parents = [
                            { id: 101, name: 'Robert Wilson', role: 'Parent of James' },
                            { id: 102, name: 'Patricia Davis', role: 'Parent of Emily' },
                            { id: 103, name: 'Michael Chen', role: 'Parent of Alex' },
                            { id: 104, name: 'Jennifer Martinez', role: 'Parent of Sophia' }
                        ];
                        
                        parents.forEach(parent => {
                            const option = document.createElement('option');
                            option.value = parent.id;
                            option.textContent = parent.name + ' (' + parent.role + ')';
                            individualSelect.appendChild(option);
                        });
                    }
                } else {
                    individualRecipientGroup.style.display = 'none';
                }
            });
            
            // File upload functionality (simulated)
            const fileDropzones = document.querySelectorAll('.file-dropzone');
            fileDropzones.forEach(dropzone => {
                dropzone.addEventListener('click', function() {
                    alert('File upload would open a file picker in a real application.');
                });
                
                dropzone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.style.borderColor = getComputedStyle(this).getPropertyValue('--primary-color');                
                });
                
                dropzone.addEventListener('dragleave', function() {
                    this.style.borderColor = 'rgba(0, 0, 0, 0.1)';
                });
                
                dropzone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.style.borderColor = 'rgba(0, 0, 0, 0.1)';
                    alert('Files would be uploaded in a real application.');
                });
            });
            
            // File removal
            const fileRemoveButtons = document.querySelectorAll('.file-item-remove');
            fileRemoveButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (confirm('Remove this file?')) {
                        this.closest('.file-item').remove();
                    }
                });
            });
            
            // Reply to message functionality
            const replyButtons = document.querySelectorAll('.message-action');
            replyButtons.forEach(button => {
                if (button.textContent === 'Reply') {
                    button.addEventListener('click', function() {
                        // Get sender name from the parent message item
                        const senderName = this.closest('.message-content').querySelector('.sender-name').textContent;
                        
                        // Open the message modal
                        messageModal.classList.add('show');
                        
                        // Pre-fill the subject with "Re: "
                        document.getElementById('messageSubject').value = 'Re: ';
                        
                        // Determine if it's a parent or student
                        if (senderName.includes('Parent')) {
                            messageRecipientSelect.value = 'parent';
                        } else if (senderName.includes('Student')) {
                            messageRecipientSelect.value = 'student';
                        } else {
                            messageRecipientSelect.value = 'admin';
                        }
                        
                        // Trigger the change event to update the individualRecipientGroup
                        const event = new Event('change');
                        messageRecipientSelect.dispatchEvent(event);
                    });
                }
            });
        });
    </script>
</body>
</html>